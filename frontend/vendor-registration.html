<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>List Your Service - JustRelocation</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <link rel="stylesheet" href="styles.css">
    <style>
        .registration-hero {
            background: linear-gradient(135deg, #1e40af 0%, #2563eb 100%);
            color: white;
            padding: 3rem 0;
            text-align: center;
        }

        .registration-form {
            max-width: 800px;
            margin: -2rem auto 4rem;
            background: white;
            border-radius: 12px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
            padding: 2rem;
        }

        .form-section {
            margin-bottom: 2rem;
            padding-bottom: 2rem;
            border-bottom: 1px solid #e5e7eb;
        }

        .form-section:last-child {
            border-bottom: none;
            margin-bottom: 0;
        }

        .form-section h3 {
            color: #111827;
            margin-bottom: 1rem;
            font-size: 1.25rem;
        }

        .form-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 1rem;
        }

        .form-group {
            display: flex;
            flex-direction: column;
            gap: 0.5rem;
        }

        .form-group label {
            color: #374151;
            font-weight: 500;
            font-size: 0.875rem;
        }

        .form-group input,
        .form-group select,
        .form-group textarea {
            padding: 0.75rem;
            border: 1px solid #d1d5db;
            border-radius: 6px;
            font-size: 1rem;
            transition: border-color 0.2s;
        }

        .form-group input:focus,
        .form-group select:focus,
        .form-group textarea:focus {
            outline: none;
            border-color: #2563eb;
            box-shadow: 0 0 0 3px rgba(37, 99, 235, 0.1);
        }

        .form-group textarea {
            min-height: 100px;
            resize: vertical;
        }

        .pricing-plans {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 1.5rem;
            margin: 2rem 0;
        }

        .pricing-plan {
            border: 2px solid #e5e7eb;
            border-radius: 12px;
            padding: 1.5rem;
            text-align: center;
            cursor: pointer;
            transition: all 0.2s;
        }

        .pricing-plan:hover {
            border-color: #2563eb;
            box-shadow: 0 4px 12px rgba(37, 99, 235, 0.1);
        }

        .pricing-plan.selected {
            border-color: #2563eb;
            background: #f0f7ff;
        }

        .pricing-plan.recommended {
            border-color: #10b981;
            position: relative;
        }

        .pricing-plan.recommended::before {
            content: 'Most Popular';
            position: absolute;
            top: -10px;
            left: 50%;
            transform: translateX(-50%);
            background: #10b981;
            color: white;
            padding: 0.25rem 1rem;
            border-radius: 15px;
            font-size: 0.75rem;
            font-weight: 600;
        }

        .plan-name {
            font-size: 1.25rem;
            font-weight: 600;
            color: #111827;
            margin-bottom: 0.5rem;
        }

        .plan-price {
            font-size: 2rem;
            font-weight: 700;
            color: #2563eb;
            margin-bottom: 1rem;
        }

        .plan-features {
            text-align: left;
            margin-bottom: 1.5rem;
        }

        .plan-features li {
            display: flex;
            align-items: center;
            gap: 0.5rem;
            margin-bottom: 0.5rem;
            color: #374151;
            font-size: 0.875rem;
        }

        .plan-features .fa-check {
            color: #10b981;
        }

        .submit-section {
            background: #f9fafb;
            margin: 2rem -2rem -2rem;
            padding: 2rem;
            border-radius: 0 0 12px 12px;
            text-align: center;
        }

        .submit-btn {
            background: #2563eb;
            color: white;
            border: none;
            padding: 1rem 2rem;
            border-radius: 8px;
            font-size: 1.125rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.2s;
            margin-right: 1rem;
        }

        .submit-btn:hover {
            background: #1d4ed8;
            transform: translateY(-1px);
        }

        .submit-btn:disabled {
            background: #9ca3af;
            cursor: not-allowed;
            transform: none;
        }

        .benefits-section {
            background: #f9fafb;
            padding: 4rem 0;
        }

        .benefits-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 2rem;
        }

        .benefit-card {
            background: white;
            padding: 2rem;
            border-radius: 12px;
            text-align: center;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.05);
        }

        .benefit-icon {
            font-size: 2.5rem;
            color: #2563eb;
            margin-bottom: 1rem;
        }

        .error-message {
            color: #dc2626;
            font-size: 0.875rem;
            margin-top: 0.25rem;
        }

        .success-message {
            color: #059669;
            font-size: 0.875rem;
            margin-top: 0.25rem;
        }
    </style>
</head>
<body>
    <!-- Header -->
   <header class="header">
     <div class="header-main">
       <a href="index.html" class="logo">JustRelocation</a>

       <nav class="nav-center">
         <a href="index.html" class="nav-link">NHS Trusts</a>
         <a href="housing.html" class="nav-link">Housing</a>
         <a href="banking.html" class="nav-link">Banking</a>
         <a href="registration.html" class="nav-link">Registration</a>
         <a href="transport.html" class="nav-link">Transport</a>
         <a href="schools.html" class="nav-link">Schools</a>
         <a href="about.html" class="nav-link">About</a>
         <a href="contact.html" class="nav-link">Contact</a>
       </nav>

       <div class="header-right">
         <div class="notification-bell">
           <span>ðŸ””</span>
           <span class="notification-dot"></span>
         </div>
         <a href="list-service.html" class="list-property-btn">List your service</a>
         <div class="account-menu">
           <div class="account-avatar">J</div>
           <span>â–¼</span>
         </div>
       </div>
     </div>
   </header>

    <!-- Hero Section -->
    <section class="registration-hero">
        <div class="container">
            <h1>Join JustRelocation</h1>
            <p>Connect with NHS healthcare workers who need your services</p>
            <div class="stats-row" style="margin-top: 2rem;">
                <div class="stat">
                    <div class="stat-number">12,847</div>
                    <div class="stat-label">NHS Workers</div>
                </div>
                <div class="stat">
                    <div class="stat-number">Â£2.3M</div>
                    <div class="stat-label">Monthly Volume</div>
                </div>
                <div class="stat">
                    <div class="stat-number">5,420</div>
                    <div class="stat-label">Active Vendors</div>
                </div>
            </div>
        </div>
    </section>

    <!-- Registration Form -->
    <section class="container">
        <div class="registration-form">
            <form id="vendorRegistrationForm">
                <!-- Business Information -->
                <div class="form-section">
                    <h3><i class="fas fa-building"></i> Business Information</h3>
                    <div class="form-grid">
                        <div class="form-group">
                            <label for="businessName">Business Name *</label>
                            <input type="text" id="businessName" name="businessName" required>
                        </div>
                        <div class="form-group">
                            <label for="contactName">Contact Name *</label>
                            <input type="text" id="contactName" name="contactName" required>
                        </div>
                        <div class="form-group">
                            <label for="email">Email Address *</label>
                            <input type="email" id="email" name="email" required>
                        </div>
                        <div class="form-group">
                            <label for="phone">Phone Number *</label>
                            <input type="tel" id="phone" name="phone" required>
                        </div>
                        <div class="form-group">
                            <label for="whatsapp">WhatsApp Number *</label>
                            <input type="tel" id="whatsapp" name="whatsapp" required placeholder="+44 7XXX XXXXXX">
                        </div>
                        <div class="form-group">
                            <label for="website">Website</label>
                            <input type="url" id="website" name="website" placeholder="https://yourwebsite.com">
                        </div>
                    </div>
                    <div class="form-grid" style="margin-top: 1rem;">
                        <div class="form-group" style="grid-column: 1 / -1;">
                            <label for="description">Business Description *</label>
                            <textarea id="description" name="description" required placeholder="Describe your services and what makes your business special..."></textarea>
                        </div>
                    </div>
                </div>

                <!-- Service Information -->
                <div class="form-section">
                    <h3><i class="fas fa-cogs"></i> Service Information</h3>
                    <div class="form-grid">
                        <div class="form-group">
                            <label for="serviceCategory">Primary Service Category *</label>
                            <select id="serviceCategory" name="serviceCategory" required>
                                <option value="">Select a category</option>
                                <option value="Housing">Housing & Accommodation</option>
                                <option value="Banking">Banking & Financial Services</option>
                                <option value="Registration">Professional Registration</option>
                                <option value="Transport">Transport & Vehicle Rental</option>
                                <option value="Schools">Schools & Education</option>
                                <option value="Healthcare">Healthcare Services</option>
                                <option value="Legal">Legal Services</option>
                                <option value="Utilities">Utilities & Setup</option>
                                <option value="Other">Other Services</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label for="serviceAreas">Service Areas *</label>
                            <input type="text" id="serviceAreas" name="serviceAreas" required placeholder="London, Manchester, Birmingham">
                            <small>Enter cities/regions you serve, separated by commas</small>
                        </div>
                        <div class="form-group">
                            <label for="basePrice">Starting Price (Â£)</label>
                            <input type="number" id="basePrice" name="basePrice" min="0" step="0.01" placeholder="0.00">
                        </div>
                        <div class="form-group">
                            <label for="pricingType">Pricing Type</label>
                            <select id="pricingType" name="pricingType">
                                <option value="one-time">One-time fee</option>
                                <option value="monthly">Monthly</option>
                                <option value="weekly">Weekly</option>
                                <option value="daily">Daily</option>
                                <option value="hourly">Hourly</option>
                                <option value="custom">Custom/Quote</option>
                            </select>
                        </div>
                    </div>
                </div>

                <!-- Business Verification -->
                <div class="form-section">
                    <h3><i class="fas fa-shield-alt"></i> Business Verification</h3>
                    <div class="form-grid">
                        <div class="form-group">
                            <label for="businessRegistration">Business Registration Number</label>
                            <input type="text" id="businessRegistration" name="businessRegistration" placeholder="Company registration or license number">
                        </div>
                        <div class="form-group">
                            <label for="vatNumber">VAT Number</label>
                            <input type="text" id="vatNumber" name="vatNumber" placeholder="VAT registration number">
                        </div>
                        <div class="form-group">
                            <label for="insurance">Insurance Details</label>
                            <input type="text" id="insurance" name="insurance" placeholder="Public liability insurance details">
                        </div>
                        <div class="form-group">
                            <label for="accreditations">Professional Accreditations</label>
                            <input type="text" id="accreditations" name="accreditations" placeholder="Relevant certifications or memberships">
                        </div>
                    </div>
                </div>

                <!-- Listing Plan Selection -->
                <div class="form-section">
                    <h3><i class="fas fa-crown"></i> Choose Your Listing Plan</h3>
                    <p style="margin-bottom: 2rem; color: #6b7280;">Select the plan that best fits your business needs. You can upgrade or downgrade at any time.</p>

                    <div class="pricing-plans">
                        <div class="pricing-plan" data-plan="basic">
                            <div class="plan-name">Basic Listing</div>
                            <div class="plan-price">Â£49<span style="font-size: 1rem; font-weight: 400;">/month</span></div>
                            <ul class="plan-features">
                                <li><i class="fas fa-check"></i> Business listing in directory</li>
                                <li><i class="fas fa-check"></i> Contact information displayed</li>
                                <li><i class="fas fa-check"></i> Basic business profile</li>
                                <li><i class="fas fa-check"></i> Customer reviews</li>
                                <li><i class="fas fa-check"></i> Email support</li>
                            </ul>
                        </div>

                        <div class="pricing-plan recommended" data-plan="premium">
                            <div class="plan-name">Premium Listing</div>
                            <div class="plan-price">Â£99<span style="font-size: 1rem; font-weight: 400;">/month</span></div>
                            <ul class="plan-features">
                                <li><i class="fas fa-check"></i> Everything in Basic</li>
                                <li><i class="fas fa-check"></i> Priority placement in search</li>
                                <li><i class="fas fa-check"></i> WhatsApp lead notifications</li>
                                <li><i class="fas fa-check"></i> Enhanced business profile</li>
                                <li><i class="fas fa-check"></i> Analytics dashboard</li>
                                <li><i class="fas fa-check"></i> Phone & WhatsApp support</li>
                            </ul>
                        </div>

                        <div class="pricing-plan" data-plan="featured">
                            <div class="plan-name">Featured Listing</div>
                            <div class="plan-price">Â£199<span style="font-size: 1rem; font-weight: 400;">/month</span></div>
                            <ul class="plan-features">
                                <li><i class="fas fa-check"></i> Everything in Premium</li>
                                <li><i class="fas fa-check"></i> Top placement guarantee</li>
                                <li><i class="fas fa-check"></i> Featured badge & branding</li>
                                <li><i class="fas fa-check"></i> Dedicated account manager</li>
                                <li><i class="fas fa-check"></i> Custom integration options</li>
                                <li><i class="fas fa-check"></i> Priority customer support</li>
                            </ul>
                        </div>
                    </div>

                    <input type="hidden" id="selectedPlan" name="selectedPlan" value="premium">
                </div>

                <!-- Submit Section -->
                <div class="submit-section">
                    <h3>Ready to Get Started?</h3>
                    <p style="margin-bottom: 2rem; color: #6b7280;">Your listing will be reviewed within 24 hours. You'll receive WhatsApp notifications as soon as you're approved!</p>

                    <button type="submit" class="submit-btn" id="submitBtn">
                        <i class="fas fa-rocket"></i> Submit Application
                    </button>

                    <p style="margin-top: 1rem; font-size: 0.875rem; color: #6b7280;">
                        By submitting, you agree to our <a href="#" style="color: #2563eb;">Terms of Service</a> and <a href="#" style="color: #2563eb;">Privacy Policy</a>
                    </p>
                </div>
            </form>
        </div>
    </section>

    <!-- Benefits Section -->
    <section class="benefits-section">
        <div class="container">
            <h2 style="text-align: center; margin-bottom: 3rem; color: #111827;">Why Choose JustRelocation?</h2>
            <div class="benefits-grid">
                <div class="benefit-card">
                    <div class="benefit-icon">
                        <i class="fas fa-users"></i>
                    </div>
                    <h3>Qualified Leads</h3>
                    <p>Connect directly with NHS healthcare workers who are actively looking for your services.</p>
                </div>

                <div class="benefit-card">
                    <div class="benefit-icon">
                        <i class="fab fa-whatsapp"></i>
                    </div>
                    <h3>WhatsApp Integration</h3>
                    <p>Get instant notifications when someone is interested in your services, directly to your WhatsApp.</p>
                </div>

                <div class="benefit-card">
                    <div class="benefit-icon">
                        <i class="fas fa-chart-line"></i>
                    </div>
                    <h3>Analytics Dashboard</h3>
                    <p>Track your leads, conversion rates, and business performance with detailed analytics.</p>
                </div>

                <div class="benefit-card">
                    <div class="benefit-icon">
                        <i class="fas fa-shield-alt"></i>
                    </div>
                    <h3>Trusted Platform</h3>
                    <p>Build trust with verified NHS partnerships and customer reviews.</p>
                </div>
            </div>
        </div>
    </section>

    <!-- Footer -->
    <footer class="footer">
        <div class="container">
            <div class="footer-content">
                <div class="footer-column">
                    <h4>FOR VENDORS</h4>
                    <ul>
                        <li><a href="#">List Your Service</a></li>
                        <li><a href="vendor-portal.html">Vendor Dashboard</a></li>
                        <li><a href="#">Pricing Plans</a></li>
                        <li><a href="#">Success Stories</a></li>
                        <li><a href="#">Help Center</a></li>
                    </ul>
                </div>
                <div class="footer-column">
                    <h4>SUPPORT</h4>
                    <ul>
                        <li><a href="#">Help Center</a></li>
                        <li><a href="#">Contact Us</a></li>
                        <li><a href="#">WhatsApp Support</a></li>
                        <li><a href="#">Terms of Service</a></li>
                        <li><a href="#">Privacy Policy</a></li>
                    </ul>
                </div>
            </div>
            <div class="footer-bottom">
                <p>&copy; 2024 JustRelocation. All rights reserved.</p>
            </div>
        </div>
    </footer>

    <!-- WhatsApp Support Chat -->
    <div class="whatsapp-chat" onclick="openSupportChat()">
        <div class="whatsapp-icon">
            <i class="fab fa-whatsapp"></i>
        </div>
        <div class="chat-tooltip">
            <span>Need help? Chat with us!</span>
        </div>
    </div>

    <script>
        function openSupportChat() {
            window.open('https://wa.me/447000000000?text=Hi%20JustRelocation,%20I%20need%20help%20with...', '_blank');
        }
    </script>

    <script src="whatsapp-config.js"></script>
    <script src="whatsapp-service.js"></script>
    <script>
        // Plan selection
        document.querySelectorAll('.pricing-plan').forEach(plan => {
            plan.addEventListener('click', () => {
                document.querySelectorAll('.pricing-plan').forEach(p => p.classList.remove('selected'));
                plan.classList.add('selected');
                document.getElementById('selectedPlan').value = plan.dataset.plan;
            });
        });

        // Set default selection
        document.querySelector('[data-plan="premium"]').classList.add('selected');

        // Form submission
        document.getElementById('vendorRegistrationForm').addEventListener('submit', async (e) => {
            e.preventDefault();

            const submitBtn = document.getElementById('submitBtn');
            const originalText = submitBtn.innerHTML;

            // Show loading state
            submitBtn.disabled = true;
            submitBtn.innerHTML = '<i class="fas fa-spinner fa-spin"></i> Submitting...';

            // Collect form data
            const formData = new FormData(e.target);
            const data = Object.fromEntries(formData.entries());

            try {
                // Send to Airtable (Token should be set via environment variable)
                const airtableToken = window.AIRTABLE_TOKEN || 'YOUR_AIRTABLE_TOKEN_HERE';
                const response = await fetch(`https://api.airtable.com/v0/appP0b4E4QE7x4Bzl/Vendors`, {
                    method: 'POST',
                    headers: {
                        'Authorization': `Bearer ${airtableToken}`,
                        'Content-Type': 'application/json'
                    },
                    body: JSON.stringify({
                        records: [{
                            fields: {
                                'Business Name': data.businessName,
                                'Contact Name': data.contactName,
                                'Email': data.email,
                                'Phone Number': data.phone,
                                'WhatsApp Number': data.whatsapp,
                                'Website': data.website,
                                'Description': data.description,
                                'Service Category': data.serviceCategory,
                                'Service Areas': data.serviceAreas,
                                'Base Price': parseFloat(data.basePrice) || 0,
                                'Pricing Type': data.pricingType,
                                'Business Registration': data.businessRegistration,
                                'VAT Number': data.vatNumber,
                                'Insurance': data.insurance,
                                'Accreditations': data.accreditations,
                                'Selected Plan': data.selectedPlan,
                                'Application Date': new Date().toISOString(),
                                'Status': 'Pending Review',
                                'Premium Listing': data.selectedPlan !== 'basic',
                                'Featured': data.selectedPlan === 'featured'
                            }
                        }]
                    })
                });

                if (response.ok) {
                    // Success
                    submitBtn.innerHTML = '<i class="fas fa-check"></i> Application Submitted!';
                    submitBtn.style.background = '#10b981';

                    // Send WhatsApp confirmation
                    const whatsappMessage = `ðŸŽ‰ Welcome to JustRelocation!\n\nYour vendor application has been submitted successfully.\n\nBusiness: ${data.businessName}\nPlan: ${data.selectedPlan.charAt(0).toUpperCase() + data.selectedPlan.slice(1)}\n\nWe'll review your application within 24 hours and notify you via WhatsApp.\n\nQuestions? Reply to this message!\n\nJustRelocation Team`;

                    const whatsappUrl = `https://wa.me/${data.whatsapp.replace(/\D/g, '')}?text=${encodeURIComponent(whatsappMessage)}`;

                    setTimeout(() => {
                        alert('Application submitted successfully! Check your WhatsApp for confirmation.');
                        window.open(whatsappUrl, '_blank');
                        window.location.href = 'vendor-portal.html';
                    }, 2000);

                } else {
                    throw new Error('Submission failed');
                }

            } catch (error) {
                console.error('Error:', error);
                submitBtn.innerHTML = originalText;
                submitBtn.disabled = false;
                alert('There was an error submitting your application. Please try again or contact support.');
            }
        });

        // WhatsApp support
        function openSupportChat() {
            const supportMessage = "Hi! I need help with vendor registration on JustRelocation. Can you assist me?";
            const whatsappUrl = `https://wa.me/447000000000?text=${encodeURIComponent(supportMessage)}`;
            window.open(whatsappUrl, '_blank');
        }
    </script>
</body>
</html>