<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Vendor Dashboard - JustRelocation</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <link rel="stylesheet" href="vendor-styles.css">
</head>
<body>
    <!-- Header -->
    <header class="vendor-header">
        <div class="container">
            <div class="header-content">
                <div class="logo">
                    <i class="fas fa-heart" style="color: #2563eb;"></i>
                    <a href="index.html" style="color: inherit; text-decoration: none;"><span>JustRelocation</span></a>
                    <span class="vendor-badge">Vendor Portal</span>
                </div>
                <div class="vendor-info">
                    <span class="vendor-name" id="vendorName">London Housing Solutions</span>
                    <div class="online-status">
                        <span class="status-dot"></span>
                        <span>Online</span>
                    </div>
                </div>
                <div class="header-actions">
                    <button class="status-btn" id="availabilityBtn">
                        <i class="fas fa-circle"></i>
                        Available
                    </button>
                    <button class="whatsapp-business-btn">
                        <i class="fab fa-whatsapp"></i>
                        WhatsApp Business
                    </button>
                    <button class="sign-out-btn">Sign Out</button>
                </div>
            </div>
        </div>
    </header>

    <div class="dashboard-container">
        <!-- Sidebar -->
        <aside class="sidebar">
            <nav class="sidebar-nav">
                <a href="#dashboard" class="nav-item active" data-section="dashboard">
                    <i class="fas fa-tachometer-alt"></i>
                    <span>Dashboard</span>
                </a>
                <a href="#leads" class="nav-item" data-section="leads">
                    <i class="fas fa-users"></i>
                    <span>Lead Pipeline</span>
                    <span class="notification-badge">12</span>
                </a>
                <a href="#services" class="nav-item" data-section="services">
                    <i class="fas fa-list-alt"></i>
                    <span>My Services</span>
                </a>
                <a href="#availability" class="nav-item" data-section="availability">
                    <i class="fas fa-calendar-check"></i>
                    <span>Availability</span>
                </a>
                <a href="#settings" class="nav-item" data-section="settings">
                    <i class="fas fa-cog"></i>
                    <span>Settings</span>
                </a>
            </nav>
        </aside>

        <!-- Main Content -->
        <main class="main-content">
            <!-- Dashboard Overview -->
            <section id="dashboard-section" class="content-section active">
                <div class="section-header">
                    <h1>Dashboard Overview</h1>
                </div>

                <!-- Stats Cards -->
                <div class="stats-grid">
                    <div class="stat-card blue">
                        <div class="stat-icon">
                            <i class="fas fa-user-plus"></i>
                        </div>
                        <div class="stat-content">
                            <div class="stat-number">12</div>
                            <div class="stat-label">New Leads Today</div>
                            <div class="stat-change positive">+34%</div>
                        </div>
                    </div>

                    <div class="stat-card orange">
                        <div class="stat-icon">
                            <i class="fas fa-calendar-check"></i>
                        </div>
                        <div class="stat-content">
                            <div class="stat-number">8</div>
                            <div class="stat-label">Active Bookings</div>
                            <div class="stat-change neutral">-</div>
                        </div>
                    </div>

                    <div class="stat-card green">
                        <div class="stat-icon">
                            <i class="fas fa-pound-sign"></i>
                        </div>
                        <div class="stat-content">
                            <div class="stat-number">Â£2,480</div>
                            <div class="stat-label">This Month's Earnings</div>
                            <div class="stat-change positive">+12%</div>
                        </div>
                    </div>

                    <div class="stat-card yellow">
                        <div class="stat-icon">
                            <i class="fas fa-chart-line"></i>
                        </div>
                        <div class="stat-content">
                            <div class="stat-number">74%</div>
                            <div class="stat-label">Conversion Rate</div>
                            <div class="stat-change positive">+8%</div>
                        </div>
                    </div>
                </div>

                <!-- Recent Leads & Chart -->
                <div class="dashboard-grid">
                    <div class="dashboard-card">
                        <div class="card-header">
                            <h3>Recent Leads</h3>
                            <a href="#" class="view-all-link">View All</a>
                        </div>
                        <div class="leads-list" id="recentLeads">
                            <!-- Leads will be populated by JavaScript -->
                        </div>
                    </div>

                    <div class="dashboard-card">
                        <div class="card-header">
                            <h3>Lead Conversion Trend</h3>
                            <select class="time-filter">
                                <option>Last 7 days</option>
                                <option>Last 30 days</option>
                                <option>Last 3 months</option>
                            </select>
                        </div>
                        <div class="chart-container">
                            <canvas id="conversionChart" width="400" height="200"></canvas>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Leads Section -->
            <section id="leads-section" class="content-section">
                <div class="section-header">
                    <h1>Lead Pipeline</h1>
                    <button class="export-btn">
                        <i class="fas fa-download"></i>
                        Export Leads
                    </button>
                </div>

                <div class="leads-filters">
                    <div class="filter-group">
                        <select class="filter-select">
                            <option>All Priorities</option>
                            <option>Urgent</option>
                            <option>High</option>
                            <option>Medium</option>
                            <option>Low</option>
                        </select>
                    </div>
                    <div class="filter-group">
                        <select class="filter-select">
                            <option>All Services</option>
                            <option>Housing</option>
                            <option>Banking</option>
                            <option>Registration</option>
                        </select>
                    </div>
                    <div class="search-group">
                        <input type="text" placeholder="Search leads..." class="search-input">
                        <i class="fas fa-search"></i>
                    </div>
                </div>

                <div class="leads-table-container">
                    <table class="leads-table">
                        <thead>
                            <tr>
                                <th>Name</th>
                                <th>Service</th>
                                <th>Hospital</th>
                                <th>Priority</th>
                                <th>Time</th>
                                <th>Actions</th>
                            </tr>
                        </thead>
                        <tbody id="leadsTableBody">
                            <!-- Leads will be populated by JavaScript -->
                        </tbody>
                    </table>
                </div>
            </section>

            <!-- Services Section -->
            <section id="services-section" class="content-section">
                <div class="section-header">
                    <h1>My Services</h1>
                    <button class="add-service-btn">
                        <i class="fas fa-plus"></i>
                        Add Service
                    </button>
                </div>

                <div class="services-grid" id="servicesGrid">
                    <!-- Services will be populated by JavaScript -->
                </div>
            </section>

            <!-- Availability Section -->
            <section id="availability-section" class="content-section">
                <div class="section-header">
                    <h1>Availability Settings</h1>
                </div>

                <div class="availability-card">
                    <div class="availability-status">
                        <h3>Current Status</h3>
                        <div class="status-toggle">
                            <label class="toggle-switch">
                                <input type="checkbox" id="availabilityToggle" checked>
                                <span class="toggle-slider"></span>
                            </label>
                            <span class="status-text">Available for new leads</span>
                        </div>
                    </div>

                    <div class="working-hours">
                        <h3>Working Hours</h3>
                        <div class="hours-grid">
                            <div class="day-hours">
                                <label>Monday</label>
                                <input type="time" value="09:00">
                                <span>to</span>
                                <input type="time" value="17:00">
                            </div>
                            <div class="day-hours">
                                <label>Tuesday</label>
                                <input type="time" value="09:00">
                                <span>to</span>
                                <input type="time" value="17:00">
                            </div>
                            <!-- Add more days as needed -->
                        </div>
                    </div>
                </div>
            </section>

            <!-- Settings Section -->
            <section id="settings-section" class="content-section">
                <div class="section-header">
                    <h1>Settings</h1>
                </div>

                <div class="settings-grid">
                    <div class="settings-card">
                        <h3>Business Information</h3>
                        <form class="settings-form">
                            <div class="form-group">
                                <label>Business Name</label>
                                <input type="text" value="London Housing Solutions">
                            </div>
                            <div class="form-group">
                                <label>Contact Email</label>
                                <input type="email" value="contact@londonhousing.co.uk">
                            </div>
                            <div class="form-group">
                                <label>WhatsApp Number</label>
                                <input type="tel" value="+44 7700 123456">
                            </div>
                            <button type="submit" class="save-btn">Save Changes</button>
                        </form>
                    </div>

                    <div class="settings-card">
                        <h3>Notification Preferences</h3>
                        <div class="notification-settings">
                            <div class="notification-item">
                                <label class="toggle-switch">
                                    <input type="checkbox" checked>
                                    <span class="toggle-slider"></span>
                                </label>
                                <span>WhatsApp notifications for new leads</span>
                            </div>
                            <div class="notification-item">
                                <label class="toggle-switch">
                                    <input type="checkbox" checked>
                                    <span class="toggle-slider"></span>
                                </label>
                                <span>Email notifications</span>
                            </div>
                            <div class="notification-item">
                                <label class="toggle-switch">
                                    <input type="checkbox">
                                    <span class="toggle-slider"></span>
                                </label>
                                <span>SMS notifications</span>
                            </div>
                        </div>
                    </div>
                </div>
            </section>
        </main>
    </div>

    <!-- WhatsApp Contact Modal -->
    <div id="whatsappModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3>Contact via WhatsApp</h3>
                <span class="modal-close">&times;</span>
            </div>
            <div class="modal-body">
                <div class="lead-details" id="modalLeadDetails">
                    <!-- Lead details will be populated here -->
                </div>
                <div class="message-template">
                    <label>Message Template:</label>
                    <textarea id="whatsappMessage" rows="4" placeholder="Hi! I received your inquiry about..."></textarea>
                </div>
                <div class="modal-actions">
                    <button class="send-whatsapp-btn" onclick="sendWhatsAppMessage()">
                        <i class="fab fa-whatsapp"></i>
                        Send WhatsApp Message
                    </button>
                </div>
            </div>
        </div>
    </div>

    <!-- WhatsApp Support Chat -->
    <div class="whatsapp-chat" onclick="openSupportChat()">
        <div class="whatsapp-icon">
            <i class="fab fa-whatsapp"></i>
        </div>
        <div class="chat-tooltip">
            <span>Need help? Chat with us!</span>
        </div>
    </div>

    <script src="whatsapp-config.js"></script>
    <script src="whatsapp-service.js"></script>
    <script src="vendor-portal.js"></script>

    <script>
        function openSupportChat() {
            window.open('https://wa.me/447000000000?text=Hi%20JustRelocation,%20I%20need%20help%20with%20my%20vendor%20account...', '_blank');
        }
    </script>
</body>
</html>